---
layout: default
title: ie6下png8透明解决方案
---

### 关于PNG ###

关于png，需要掌握的几个概念：

1、透明

分为索引透明和alpha透明。

(1)索引透明：每一个像素只有全透明和全不透明两种效果

(2)alpha透明：支持全透明和半透明

2、格式

分为8位、24位和32位。多少位，表明它最多能支持的颜色数量，比如png8，最多支持2的8次方种颜色。下面这张图说明几种png格式的透明支持：

![icon]({{ site.url }}/assets/2014/06/28/1.png)

再来看看使用一些软件导出图片格式的对比图。看完你就明白，说png24支持半透明是错误的，这是photoshop选择了png24+支持半透明选项后误导你，这样生成的图片其实是png32格式的。

![icon]({{ site.url }}/assets/2014/06/28/2.png)

### ie6下png半透明如何实现 ###

在ie7-ie11上，可以放心大胆地使用png32(png24 + 半透明)来支持png图片的半透明。可是想在万恶的ie6下实现半透明的png却没那么容易。

ie6与生俱来就支持png8的索引色透明度，但不支持png或8位以上的alpha透明度，导致很多半透明效果的图片在ie6下会显示有点奇怪，如下：

![icon]({{ site.url }}/assets/2014/06/28/3.png)

可以看到在ie6下存在不完全透明的效果。这里提供一种解决方法，使用DD_belatedPNG，使用微软的VML语言对PNG图片进行重新绘制，以达到半透明的效果，所以对所有的样式支持的很好，你可以把png图片用于<img/>标签或者背景图background-image和background-position，还支持hover等伪类。例如：

    <!--[if IE 6]>
    <script type="text/javascript" src="http://dillerdesign.com/experiment/DD_belatedPNG/DD_belatedPNG_0.0.8a-min.js"></script>
    <script type="text/javascript">
     DD_belatedPNG.fix('.png');
     /* .png是所有应用了透明PNG的CSS选择器，你可以用你自己的选择器，比如 DD_belatedPNG.fix('.box a:hover');
     对于:focus和:hover伪类，可以用DD_belatedPNG.fix('.png, a.png:hover, .png:focus');
     */
    </script>
    <![endif]-->

更多说明可以参考官网 [http://dillerdesign.com/experiment/DD_belatedPNG/](http://dillerdesign.com/experiment/DD_belatedPNG/ "DD_belatedPNG")